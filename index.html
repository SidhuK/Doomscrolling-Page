<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Doomscrolling, Quantified: From Age 31 to 80</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap');

  :root{
    --bg:#04070d;
    --bg-veil:rgba(12,16,24,0.62);
    --card:rgba(11,17,26,0.86);
    --ink:#f2f6ff;
    --muted:#8b9bb5;
    --accent:#67d8ff;
    --impact:#ff4141;
    --impact-soft:#ff8f5a;
    --good:#4ade80;
    --warn:#facc15;
    --grid:#182333;
    --border:#1f2c3f;
    --glow:#203b59;
  }
  *{box-sizing:border-box}
  html,body{
    margin:0;
    min-height:100%;
    background:var(--bg);
    color:var(--ink);
    font-family:'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', sans-serif;
    line-height:1.55;
    -webkit-font-smoothing:antialiased;
  }
  body{
    position:relative;
    overflow-x:hidden;
    background:
      radial-gradient(120% 120% at 20% -10%, rgba(103,216,255,0.22) 0%, transparent 60%),
      radial-gradient(90% 90% at 80% 0%, rgba(255,65,65,0.16) 0%, transparent 60%),
      #04070d;
  }
  body::before{
    content:"";
    position:fixed;
    inset:0;
    pointer-events:none;
    background:
      linear-gradient(120deg, rgba(21,33,49,0) 0%, rgba(21,33,49,0.55) 55%, rgba(10,13,19,0.85) 100%),
      repeating-linear-gradient(0deg, transparent 0 8px, rgba(255,255,255,0.02) 8px 9px);
    mix-blend-mode:soft-light;
  }
  body::after{
    content:"";
    position:fixed;
    inset:0;
    pointer-events:none;
    background:radial-gradient(200% 120% at 50% 120%, rgba(4,7,13,0) 0%, rgba(4,7,13,0.92) 72%, #020308 100%);
  }
  a{color:var(--accent);text-decoration:none}
  a:hover{color:#9ee9ff}
  ::selection{background:rgba(255,65,65,0.45);color:var(--ink)}
  .container{
    position:relative;
    max-width:1100px;
    margin:0 auto;
    padding:34px 28px 48px;
    z-index:1;
  }
  .container::before{
    content:"";
    position:absolute;
    inset:0;
    border-radius:28px;
    margin:-22px;
    pointer-events:none;
    background:radial-gradient(60% 80% at 50% 0%, rgba(103,216,255,0.08) 0%, transparent 70%);
    filter:blur(40px);
    opacity:0.7;
  }
  header{
    display:grid;
    gap:14px;
    margin-bottom:32px;
    position:relative;
  }
  header::after{
    content:"";
    position:absolute;
    inset:auto 0 -18px 0;
    height:1px;
    background:linear-gradient(90deg, transparent, rgba(106,227,255,0.35), transparent);
    opacity:0.45;
  }
  .headline{
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  .headline-sub{
    margin:0;
    color:#fd9090;
    font-size:0.95rem;
    text-transform:uppercase;
    letter-spacing:0.38em;
    font-weight:600;
  }
  .headline h1{
    margin:0;
    font-family:'Space Grotesk', 'Inter', sans-serif;
    font-size:clamp(2.6rem, 4vw, 3.4rem);
    letter-spacing:-0.015em;
    text-transform:uppercase;
    display:inline-flex;
    align-items:flex-end;
    gap:12px;
  }
  .headline h1 span{
    display:inline-block;
    font-size:0.42em;
    letter-spacing:0.48em;
    text-transform:none;
    color:rgba(255,255,255,0.45);
    margin-left:4px;
  }
  .header-copy{
    max-width:640px;
    margin:6px 0 0;
    color:rgba(235,241,255,0.78);
    font-size:1rem;
  }
  .header-copy b{color:#ffe8e8}
  .header-metrics{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
  }
  .header-pill{
    display:inline-flex;
    align-items:center;
    gap:10px;
    padding:7px 16px;
    border-radius:999px;
    background:rgba(16,24,37,0.75);
    border:1px solid rgba(103,216,255,0.25);
    font-size:12px;
    letter-spacing:0.08em;
    text-transform:uppercase;
    color:#dfeaff;
  }
  .header-pill::before{
    content:"●";
    font-size:9px;
    color:var(--accent);
  }
  .header-pill strong{
    font-family:'Space Grotesk', 'Inter', sans-serif;
    font-size:1.05rem;
    font-weight:600;
    letter-spacing:0;
    color:#ffffff;
  }
  .muted{color:var(--muted)}
  .grid{
    display:grid;
    grid-template-columns:1.08fr 0.92fr;
    gap:20px;
  }
  @media (max-width:980px){
    .grid{grid-template-columns:1fr}
  }
  .card{
    position:relative;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:20px;
    padding:22px;
    box-shadow:0 22px 50px rgba(3,6,12,0.42);
    backdrop-filter:blur(12px);
    overflow:hidden;
  }
  .card::before{
    content:"";
    position:absolute;
    inset:0;
    background:linear-gradient(130deg, rgba(103,216,255,0.08), transparent 32%, rgba(255,65,65,0.04) 68%, transparent);
    opacity:0.75;
    pointer-events:none;
  }
  .card > *{position:relative}
  .section-title{
    font-size:12px;
    letter-spacing:0.28em;
    text-transform:uppercase;
    color:rgba(223,234,255,0.68);
    margin:0 0 14px;
  }
  .controls{
    display:grid;
    grid-template-columns:repeat(3, minmax(0,1fr));
    gap:14px;
    margin-top:10px;
  }
  @media (max-width:700px){
    .controls{grid-template-columns:1fr}
  }
  .control{
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  .control label{
    display:flex;
    justify-content:space-between;
    align-items:center;
    color:var(--muted);
    font-size:13px;
    letter-spacing:0.02em;
  }
  input[type=number]{
    width:110px;
    background:rgba(7,11,18,0.9);
    border:1px solid rgba(103,216,255,0.2);
    color:var(--ink);
    border-radius:12px;
    padding:8px 12px;
    font-family:inherit;
    font-weight:600;
  }
  input[type=number]:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:0 0 0 3px rgba(103,216,255,0.22);
  }
  input[type=range]{
    -webkit-appearance:none;
    appearance:none;
    width:100%;
    height:6px;
    background:rgba(17,26,38,0.8);
    border-radius:999px;
    border:1px solid rgba(103,216,255,0.04);
    position:relative;
    overflow:hidden;
  }
  input[type=range]::before{
    content:"";
    position:absolute;
    inset:0;
    background:linear-gradient(90deg, rgba(103,216,255,0.45), rgba(255,65,65,0.65));
    transform-origin:left;
    transform:scaleX(var(--range-fill, 0.6));
    transition:transform 0.15s ease-out;
  }
  input[type=range]:focus{outline:none}
  input[type=range]::-webkit-slider-thumb{
    -webkit-appearance:none;
    appearance:none;
    width:18px;
    height:18px;
    border-radius:50%;
    border:2px solid rgba(2,6,12,0.9);
    background:linear-gradient(135deg, var(--impact), var(--impact-soft));
    box-shadow:0 6px 18px rgba(255,65,65,0.35);
    cursor:pointer;
    position:relative;
  }
  input[type=range]::-moz-range-thumb{
    width:18px;
    height:18px;
    border-radius:50%;
    border:2px solid rgba(2,6,12,0.9);
    background:linear-gradient(135deg, var(--impact), var(--impact-soft));
    box-shadow:0 6px 18px rgba(255,65,65,0.35);
    cursor:pointer;
  }
  input[type=range]::-moz-range-track{
    height:6px;
    background:rgba(17,26,38,0.8);
    border-radius:999px;
    border:1px solid rgba(103,216,255,0.04);
  }
  input[type=range]::-moz-range-progress{
    height:6px;
    background:linear-gradient(90deg, rgba(103,216,255,0.45), rgba(255,65,65,0.65));
    border-radius:999px 0 0 999px;
  }
  .kpi-row{
    display:grid;
    grid-template-columns:repeat(3, minmax(0,1fr));
    gap:14px;
    margin-top:18px;
  }
  @media (max-width:900px){
    .kpi-row{grid-template-columns:1fr}
  }
  .kpi{
    background:rgba(9,15,24,0.85);
    border:1px solid rgba(103,216,255,0.14);
    border-radius:16px;
    padding:16px;
    position:relative;
    overflow:hidden;
  }
  .kpi::after{
    content:"";
    position:absolute;
    inset:-40% -30% auto;
    height:120%;
    background:radial-gradient(circle, rgba(255,65,65,0.18) 0%, transparent 60%);
    opacity:0;
    transition:opacity 0.3s ease;
  }
  .kpi:hover::after{opacity:1}
  .kpi .label{
    color:rgba(223,234,255,0.6);
    font-size:12px;
    letter-spacing:0.12em;
    text-transform:uppercase;
    margin-bottom:8px;
  }
  .kpi .value{
    font-family:'Space Grotesk', 'Inter', sans-serif;
    font-variant-numeric:tabular-nums;
    font-size:26px;
    font-weight:700;
  }
  .life-bar{
    margin-top:20px;
    background:rgba(9,15,24,0.9);
    border:1px solid rgba(255,65,65,0.25);
    border-radius:18px;
    padding:18px;
    position:relative;
  }
  .life-bar::after{
    content:"";
    position:absolute;
    inset:-30% 10% auto;
    height:70%;
    filter:blur(40px);
    background:radial-gradient(circle at center, rgba(255,65,65,0.2) 0%, transparent 60%);
    opacity:0.65;
    pointer-events:none;
  }
  .bar-wrap{
    height:26px;
    border-radius:999px;
    background:rgba(8,12,20,0.9);
    border:1px solid rgba(255,65,65,0.18);
    overflow:hidden;
    position:relative;
  }
  .bar{
    height:100%;
    background:linear-gradient(90deg, var(--impact) 0%, rgba(255,134,58,0.95) 45%, rgba(255,65,65,0.9) 100%);
    box-shadow:0 0 18px rgba(255,65,65,0.5) inset;
    position:relative;
    animation:breathe 6s ease-in-out infinite;
  }
  .bar::after{
    content:"";
    position:absolute;
    inset:0;
    background:repeating-linear-gradient(120deg, rgba(0,0,0,0) 0 12px, rgba(255,255,255,0.08) 12px 15px);
    mix-blend-mode:overlay;
    opacity:0.4;
  }
  @keyframes breathe{
    0%,100%{filter:brightness(1)}
    50%{filter:brightness(1.25)}
  }
  .bar-legend{
    display:flex;
    justify-content:space-between;
    font-size:12px;
    color:var(--muted);
    margin-top:10px;
    text-transform:uppercase;
    letter-spacing:0.08em;
  }
  .impact{color:#ffb3b3}
  .hr{
    height:1px;
    background:linear-gradient(90deg, transparent, rgba(255,65,65,0.35), transparent);
    margin:14px 0;
    opacity:0.65;
  }
  .callout{
    background:linear-gradient(160deg, rgba(16,24,36,0.9), rgba(12,18,30,0.6));
    border:1px solid rgba(255,65,65,0.35);
    padding:18px;
    border-radius:16px;
    font-size:0.96rem;
    line-height:1.6;
    box-shadow:0 18px 40px rgba(3,6,12,0.45);
  }
  .callout b{color:#f8fbff}
  .swap{
    display:grid;
    gap:12px;
  }
  .swap .idea{
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:rgba(9,15,24,0.8);
    border:1px solid rgba(103,216,255,0.18);
    border-radius:14px;
    padding:14px 16px;
    transition:transform 0.18s ease, border-color 0.18s ease, box-shadow 0.18s ease;
  }
  .swap .idea:hover{
    transform:translateY(-2px);
    border-color:rgba(255,65,65,0.4);
    box-shadow:0 16px 32px rgba(255,65,65,0.12);
  }
  .idea strong{font-weight:700;font-family:'Space Grotesk','Inter',sans-serif}
  .pill{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:6px 12px;
    border-radius:999px;
    background:rgba(16,24,36,0.85);
    border:1px solid rgba(255,65,65,0.28);
    font-size:12px;
    letter-spacing:0.06em;
    text-transform:uppercase;
    color:#ffd7d7;
  }
  .equivs{
    display:grid;
    grid-template-columns:repeat(2,minmax(0,1fr));
    gap:14px;
  }
  @media (max-width:900px){
    .equivs{grid-template-columns:1fr}
  }
  .equiv{
    background:rgba(9,15,24,0.8);
    border:1px solid rgba(103,216,255,0.18);
    border-radius:16px;
    padding:16px;
    transition:transform 0.2s ease, border-color 0.2s ease;
  }
  .equiv:hover{
    transform:translateY(-3px);
    border-color:rgba(255,65,65,0.35);
  }
  .equiv h4{
    margin:0 0 6px;
    font-family:'Space Grotesk','Inter',sans-serif;
    font-size:1.05rem;
  }
  .equiv p{margin:0;color:var(--muted)}
  .tag-row{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    margin-top:14px;
  }
  .tag{
    font-size:12px;
    color:#dbe6ff;
    background:rgba(9,15,24,0.85);
    border:1px solid rgba(103,216,255,0.2);
    border-radius:999px;
    padding:7px 12px;
    letter-spacing:0.04em;
    text-transform:uppercase;
  }
  .tag:hover{
    border-color:rgba(255,65,65,0.35);
    color:#ffecec;
  }
  section.card ul{
    margin:0 0 16px;
    padding:0;
    list-style:none;
    display:grid;
    gap:12px;
  }
  section.card li{
    position:relative;
    padding-left:22px;
    color:#e6edff;
  }
  section.card li::before{
    content:"▸";
    position:absolute;
    left:0;
    top:0;
    color:var(--impact);
  }
  .foot{
    font-size:12px;
    color:rgba(207,218,235,0.6);
    margin-top:14px;
    line-height:1.5;
  }
  @media (max-width:600px){
    .container{padding:26px 18px 40px}
    .headline h1{font-size:2.2rem}
    .headline-sub{letter-spacing:0.26em}
    .header-metrics{gap:8px}
    .header-pill{font-size:11px}
    input[type=number]{width:100%}
  }
  @media (prefers-reduced-motion:reduce){
    *, *::before, *::after{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}
  }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="headline">
        <p class="headline-sub">Intervention mode</p>
        <h1>Doomscrolling, Quantified<span>Reality check</span></h1>
      </div>
      <p class="header-copy">Hold the doom loop at <b id="hpdHeader">6.5</b> hours every day and the <b id="yearsRemainingHeader">49.0</b> years you still have collapse into <b class="impact" id="doomYearsHeader">13.3</b> years of pure scroll. That is <b id="feedsJobHeader">58.1</b> full work-years slid straight into the feed.</p>
      <div class="header-metrics">
        <span class="header-pill"><strong id="totalHoursHeader">116,252</strong> hours vanished</span>
        <span class="header-pill"><strong id="pomosHeader">279,006</strong> pomodoros forfeited</span>
        <span class="header-pill"><strong id="tenkHeader">11.6</strong> mastery runs abandoned</span>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <div class="section-title">Inputs</div>
        <div class="controls">
          <div class="control">
            <label>
              <span>Current age</span>
              <input id="ageNum" type="number" min="0" max="120" value="31" />
            </label>
            <input id="age" type="range" min="0" max="120" value="31" />
          </div>
          <div class="control">
            <label>
              <span>Target age</span>
              <input id="endNum" type="number" min="1" max="120" value="80" />
            </label>
            <input id="end" type="range" min="1" max="120" value="80" />
          </div>
          <div class="control">
            <label>
              <span>Doomscrolling hours/day</span>
              <input id="hpdNum" type="number" min="0" step="0.25" value="6.5" />
            </label>
            <input id="hpd" type="range" min="0" max="16" step="0.25" value="6.5" />
          </div>
        </div>

        <div class="kpi-row">
          <div class="kpi">
            <div class="label">Total doomscrolling (hours)</div>
            <div class="value" id="totalHours">116,252</div>
            <div class="muted" id="hoursPerYear">≈ 2,372.5 hours/year • 45.5 hours/week</div>
          </div>
          <div class="kpi">
            <div class="label">Of your remaining life</div>
            <div class="value"><span id="yearsContinuous">13.3</span> years</div>
            <div class="muted">Nonstop, 24/7 equivalent</div>
          </div>
          <div class="kpi">
            <div class="label">As a job</div>
            <div class="value"><span id="workYears">58.1</span> work‑years</div>
            <div class="muted">Assumes 2,000 hours/year</div>
          </div>
        </div>

        <div class="life-bar">
          <div class="section-title">Your remaining life to age <span id="endAgeLabel">80</span></div>
          <div class="bar-wrap" aria-label="Life bar">
            <div class="bar" id="doomBar" style="width:27%"></div>
          </div>
          <div class="bar-legend">
            <span><span class="impact" id="doomYearsLabel">13.3 years</span> doomscrolling</span>
            <span id="restYearsLabel">35.7 years for everything else</span>
          </div>
          <div class="hr"></div>
          <div class="callout">
            At <b id="ageLabel">31</b> going to <b id="endAgeLabel2">80</b>, <b class="impact"><span id="doomYearsCallout">13.3 years</span></b> of your remaining time becomes doomscrolling if you keep it at <b id="hpdLabel">6.5 h/day</b>.
          </div>
        </div>
      </section>

      <aside class="card">
        <div class="section-title">Quick swaps (what you’d reclaim)</div>
        <div class="swap">
          <div class="idea">
            <span><span aria-hidden="true">⚠️</span> Cut 1 hour/day</span>
            <span class="pill">+ <b id="reclaim1y">3.1</b> years by 80</span>
          </div>
          <div class="idea">
            <span><span aria-hidden="true">⚠️⚠️</span> Cut 2 hours/day</span>
            <span class="pill">+ <b id="reclaim2y">6.1</b> years by 80</span>
          </div>
          <div class="idea">
            <span><span aria-hidden="true">⚠️⚠️⚠️</span> Cut 3 hours/day</span>
            <span class="pill">+ <b id="reclaim3y">9.2</b> years by 80</span>
          </div>
        </div>
        <div class="hr"></div>
        <div class="section-title">Make it tangible</div>
        <div class="equivs">
          <div class="equiv">
            <h4>10,000‑hour tracks</h4>
            <p><b id="tenk">11.6</b> deep‑skill journeys (e.g., instrument, language, craft)</p>
          </div>
          <div class="equiv">
            <h4>Pomodoros</h4>
            <p><b id="pomos">279,006</b> × 25‑minute focused sessions</p>
          </div>
          <div class="equiv">
            <h4>90‑minute films</h4>
            <p><b id="movies">77,502</b> full movies worth of time</p>
          </div>
          <div class="equiv">
            <h4>8‑hour days</h4>
            <p><b id="eightHourDays">14,532</b> days of solid work, creation, or rest</p>
          </div>
        </div>
        <div class="hr"></div>
        <div class="section-title">Do this instead</div>
        <div class="tag-row">
          <span class="tag">1 hour/day: a “deep work hour” before screens</span>
          <span class="tag">Replace feeds with a book on your home screen</span>
          <span class="tag">Phone grayscale + no‑notification mornings</span>
          <span class="tag">Keep your Mac in “app whitelist” mode</span>
          <span class="tag">Batch social to two 15‑min windows</span>
          <span class="tag">Leave phone outside bedroom</span>
        </div>
      </aside>
    </div>

    <section class="card" style="margin-top:18px">
      <div class="section-title">Why this hits hard</div>
      <ul>
        <li>6.5 hours/day is a 45.5‑hour week—basically a full‑time job you pay with your future.</li>
        <li>From 31 to 80, that adds up to about 116,252 hours—over 13 years of continuous time.</li>
        <li>Even shaving off 1 hour/day gives you just over 3 extra years by age 80. Two hours/day gives you ~6 years back. Three gives you ~9.</li>
      </ul>
      <p class="foot">Assumptions: 365 days/year; “work‑year” = 2,000 hours; 10,000‑hour tracks for mastery are illustrative; numbers are rounded for clarity.</p>
    </section>
  </div>

<script>
  const $ = id => document.getElementById(id);
  const fmt = (n, d = 0) => Number(n).toLocaleString(undefined, { maximumFractionDigits: d, minimumFractionDigits: d });

  const state = {
    age: 31,
    end: 80,
    hpd: 6.5
  };

  const rangeIds = ["age", "end", "hpd"];

  function clamp(v, min, max) {
    return Math.max(min, Math.min(max, v));
  }

  function updateRangeFill(input) {
    if (!input) return;
    const min = parseFloat(input.min || 0);
    const max = parseFloat(input.max || 100);
    const value = parseFloat(input.value || 0);
    const ratio = max > min ? (value - min) / (max - min) : 0;
    input.style.setProperty("--range-fill", Math.max(0, Math.min(1, ratio)));
  }

  function syncRangeFill() {
    rangeIds.forEach(id => updateRangeFill($(id)));
  }

  function compute() {
    const yearsRemaining = Math.max(0, state.end - state.age);
    const hoursPerYear = state.hpd * 365;
    const hoursPerWeek = state.hpd * 7;
    const totalHours = hoursPerYear * yearsRemaining;
    const yearsContinuous = totalHours / 8760 || 0;
    const workYears = totalHours / 2000 || 0;
    const tenk = totalHours / 10000 || 0;
    const movies = totalHours / 1.5 || 0;
    const pomos = (totalHours * 60) / 25 || 0;
    const eightHourDays = totalHours / 8 || 0;

    syncRangeFill();

    $("totalHours").textContent = fmt(totalHours, totalHours >= 1000 ? 0 : 1);
    $("hoursPerYear").textContent = `≈ ${fmt(hoursPerYear, 1)} hours/year • ${fmt(hoursPerWeek, 1)} hours/week`;
    $("yearsContinuous").textContent = fmt(yearsContinuous, 1);
    $("workYears").textContent = fmt(workYears, 1);

    const doomShare = yearsRemaining ? (yearsContinuous / yearsRemaining) : 0;
    $("doomBar").style.width = fmt(clamp(doomShare * 100, 0, 100), 1) + "%";
    $("doomYearsLabel").textContent = fmt(yearsContinuous, 1) + " years";
    $("restYearsLabel").textContent = fmt(Math.max(0, yearsRemaining - yearsContinuous), 1) + " years for everything else";
    $("ageLabel").textContent = fmt(state.age);
    $("endAgeLabel").textContent = fmt(state.end);
    $("endAgeLabel2").textContent = fmt(state.end);
    $("doomYearsCallout").textContent = fmt(yearsContinuous, 1) + " years";
    $("hpdLabel").textContent = fmt(state.hpd, 2) + " h/day";

    $("tenk").textContent = fmt(tenk, 1);
    $("pomos").textContent = fmt(pomos, 0);
    $("movies").textContent = fmt(movies, 0);
    $("eightHourDays").textContent = fmt(eightHourDays, 0);

    function reclaimYears(deltaHpd) {
      const rh = deltaHpd * 365 * yearsRemaining;
      return rh / 8760;
    }
    $("reclaim1y").textContent = fmt(reclaimYears(1), 1);
    $("reclaim2y").textContent = fmt(reclaimYears(2), 1);
    $("reclaim3y").textContent = fmt(reclaimYears(3), 1);

    $("hpdHeader").textContent = fmt(state.hpd, 2);
    $("yearsRemainingHeader").textContent = fmt(yearsRemaining, 1);
    $("doomYearsHeader").textContent = fmt(yearsContinuous, 1);
    $("feedsJobHeader").textContent = fmt(workYears, 1);
    $("totalHoursHeader").textContent = fmt(totalHours, totalHours >= 1000 ? 0 : 1);
    $("pomosHeader").textContent = fmt(pomos, 0);
    $("tenkHeader").textContent = fmt(tenk, 1);
  }

  function bind() {
    const pairs = [
      ["age", "ageNum", "age"],
      ["end", "endNum", "end"],
      ["hpd", "hpdNum", "hpd"]
    ];
    pairs.forEach(([rangeId, numId, key]) => {
      const r = $(rangeId);
      const n = $(numId);
      const push = val => {
        if (key === "age") {
          state.age = clamp(parseFloat(val) || 0, 0, 120);
          r.value = state.age;
          n.value = state.age;
        } else if (key === "end") {
          state.end = clamp(parseFloat(val) || 0, 1, 120);
          r.value = state.end;
          n.value = state.end;
        } else {
          state.hpd = clamp(parseFloat(val) || 0, 0, 24);
          r.value = state.hpd;
          n.value = state.hpd;
        }
        if (state.end < state.age) {
          state.end = state.age;
          $("end").value = state.end;
          $("endNum").value = state.end;
        }
        compute();
      };
      r.addEventListener("input", e => push(e.target.value));
      n.addEventListener("input", e => push(e.target.value));
    });
  }

  bind();
  compute();
</script>
</body>
</html>